import os
import git
import zipfile36 as zipfile


class files:
    def __init__(self):
        super(files, self).__init__()


    @staticmethod
    def readdns(filename):
        path = os.path.dirname(os.path.abspath(__file__))
        with open(path+filename, encoding="utf-8") as f:
            lines = f.readlines()
        return lines
    @staticmethod
    def clone():
        path = os.path.dirname(os.path.abspath(__file__))
        print ("clone...")
        try:
            git.Git(path+"/../db").clone("https://github.com/ytisf/theZoo.git")
        except:
            print("[X] Clone skipped")
        return 0

    @staticmethod
    def unzip(files,path):
        try:
            head, tail = os.path.split(files)
            with zipfile.ZipFile(files,"r") as zip_ref:
                zip_ref.setpassword(b"infected")
                zip_ref.extractall(path+"/../db/unzip/"+tail)
        except RuntimeError:
            print("[X] File skipped "+files)
        except:
            print("[X] Failed extract file "+files)

    @staticmethod
    def read(file):
           f = open(file, "r")
           f.close()
