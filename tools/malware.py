from lib.file import files
import glob
import os
import zipfile
import sys
import logging
import threading
import time
from argparse import (
    ArgumentParser,
    Action,
    SUPPRESS
)
class malware(ArgumentParser):
    def __init__(self):
        super(malware, self).__init__()
    
    @staticmethod
    def find():
        path = os.path.dirname(os.path.abspath(__file__))
        for x in os.walk(path+"/../db"):
            for data in glob.glob(os.path.join(x[0], '*.zip')):
                x = threading.Thread(target=files.unzip, args=(data,path))
                x.start()
                print(data)

    @staticmethod
    def startmalware():
        files().clone()
        malware().find()
